(this["webpackJsonpnetease-web"]=this["webpackJsonpnetease-web"]||[]).push([[4],{261:function(e,t,n){"use strict";function r(e){return"string"===typeof e&&(e=parseInt(e)),isNaN(e)?"":e<1e4?e.toString():e<1e8?(Math.round(e/1e3)/10).toString()+"\u4e07":(Math.round(e/1e7)/10).toString()+"\u4ebf"}n.d(t,"a",(function(){return r}))},262:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(10),c=n(0);function a(){var e=Object(r.h)().search;return Object(c.useMemo)((function(){var t=new URLSearchParams(e);return{get:function(e){return t.get(e.toString())}}}),[e])}},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},308:function(e,t,n){"use strict";n.r(t);n(283),n(284);var r=n(10),c=(n(285),n(1));var a=function(){return Object(c.jsx)("div",{className:"c-play_icon",children:Object(c.jsx)("svg",{className:"c-play_icon-svg",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7367",width:"200",height:"200",children:Object(c.jsx)("path",{d:"M912.724884 429.355681L208.797545 13.198638C151.603449-20.597874 64.01249 12.198741 64.01249 95.790112V927.904219c0 74.992259 81.391599 120.187594 144.785055 82.591475l703.927339-415.957064c62.793518-36.996181 62.993498-128.186768 0-165.182949z",fill:"","p-id":"7368"})})})},s=n(261);var i=function(e){var t=e.playlist,n=Object(r.g)();return Object(c.jsxs)("div",{className:"album_card",onClick:function(){return n.push("album-detail?id=".concat(t.id))},children:[Object(c.jsxs)("div",{className:"album_card-cover",children:[Object(c.jsx)("img",{src:t.picUrl,alt:t.name,className:"album_card-cover-img"}),Object(c.jsxs)("div",{className:"album_card-cover-play_count",children:["\u25b6 ",Object(s.a)(t.playcount)]}),Object(c.jsx)(a,{})]}),Object(c.jsx)("div",{className:"album_card-name",children:t.name})]})},u=n(262),l=(n(286),n.p+"static/media/left.3a67d791.svg"),o=n(7),b=n(6),j=n(0),m=n(3),d=n.n(m),p=n(5),f=n(12);function h(){return(h=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)({url:"/banner",method:"GET"});case 2:if((t=e.sent)&&t.banners){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",t.banners);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=3e3;function O(){var e=Object(j.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(j.useRef)(0);function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==n.length)if(t&&(clearInterval(c.current),c.current=window.setInterval((function(){return a("next",!1)}),v)),"next"===e){var s=n.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{position:n[(t+3)%4].position})}));r(s)}else{var i=n.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{position:n[(t+1)%4].position})}));r(i)}}return Object(j.useEffect)((function(){if(!(n.length<4))return clearInterval(c.current),c.current=window.setInterval((function(){return a("next",!1)}),v),function(){return clearInterval(c.current)}}),[n]),Object(j.useEffect)((function(){(function(){return h.apply(this,arguments)})().then((function(e){!e||e.length<4||r([{banner:e[0],position:"left"},{banner:e[1],position:"front"},{banner:e[2],position:"right"},{banner:e[3],position:"back"}])}))}),[]),{banners:n,switchBanners:a}}var x=function(){var e=O(),t=e.banners,n=e.switchBanners;return Object(c.jsxs)("div",{className:"carousel",children:[Object(c.jsx)("div",{className:"carousel-toggle prev",onClick:function(){return n("prev")},children:Object(c.jsx)("img",{src:l,className:"carousel-toggle-img"})}),t.map((function(e){return Object(c.jsxs)("div",{className:"carousel-item "+e.position,children:[Object(c.jsx)("img",{className:"carousel-item-img",src:e.banner.imageUrl}),e.banner.typeTitle&&Object(c.jsx)("div",{className:"carousel-item-badage",children:e.banner.typeTitle})]},e.banner.imageUrl)})),Object(c.jsx)("div",{className:"carousel-toggle next",onClick:function(){return n("next")},style:{transform:"rotate(180deg)"},children:Object(c.jsx)("img",{src:l,className:"carousel-toggle-img"})})]})},g=(n(287),["\u4e2a\u6027\u63a8\u8350","\u4e13\u5c5e\u8ba2\u5236","\u6b4c\u5355","\u6392\u884c\u699c","\u6b4c\u624b","\u6700\u65b0\u97f3\u4e50"]);var w=function(){var e={curTab:(0,Object(u.a)().get)("tab")||"\u4e2a\u6027\u63a8\u8350",tabs:g},t=e.curTab,n=e.tabs,a=Object(r.g)();return Object(c.jsx)("div",{className:"home_tabs",children:n.map((function(e){return Object(c.jsx)("div",{className:"home_tabs-item ".concat(t===e?"active":""),onClick:function(){return a.replace("/home?tab=".concat(e))},children:e},e)}))})};n(288);var N=function(e){var t=e.title;return Object(c.jsxs)("div",{className:"home_title",children:[Object(c.jsx)("span",{className:"home_title-content",children:t}),Object(c.jsxs)("svg",{className:"home_title-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5210",width:"200",height:"200",children:[Object(c.jsx)("path",{d:"M0 0h1024v1024H0z",fill:"var(--on-bg)",opacity:".01","p-id":"5211"}),Object(c.jsx)("path",{d:"M615.8848 512l-318.976-319.9488c-20.4288-20.48-20.4288-53.76 0-74.24 20.48-20.5312 53.7088-20.5312 74.1376 0L727.04 474.88c20.48 20.48 20.48 53.76 0 74.24L371.0464 906.24c-20.48 20.5312-53.6064 20.5312-74.0864 0-20.48-20.48-20.48-53.76 0-74.24L615.8848 512z",fill:"var(--on-bg)","p-id":"5212"})]})]})},_=(n(289),n(25)),y=n(17);var k=function(e){var t=e.song.song;return Object(c.jsxs)("div",{className:"new_song_item n_s_i",onClick:function(){return y.a.setMusicsWithoutPlaylist([Object(o.a)(Object(o.a)({},t),{},{al:Object(o.a)(Object(o.a)({},t.album),{},{picUrl:t.album.blurPicUrl}),alia:t.alias,ar:t.artists,dt:Date.now(),publishTime:Date.now()})])},children:[Object(c.jsx)(_.a,{src:t.album.blurPicUrl,alt:t.album.name,className:"n_s_i-cover"}),Object(c.jsxs)("div",{className:"n_s_i-info",children:[Object(c.jsxs)("div",{className:"n_s_i-info-name elipsis",children:[t.name,Object(c.jsx)("span",{className:"n_s_i-info-name-alias",children:t.alias.join("/")})]}),Object(c.jsx)("div",{className:"n_s_i-info-artist_name elipsis",children:t.artists.map((function(e){return e.name})).join("/")})]})]})};n(290);var z=function(e){var t=e.item;return Object(c.jsxs)("div",{className:"personalized_card",children:[Object(c.jsxs)("div",{className:"personalized_card-cover",children:[Object(c.jsx)("img",{src:t.picUrl,alt:t.name,className:"personalized_card-cover-img"}),Object(c.jsx)(a,{})]}),Object(c.jsx)("div",{className:"personalized_card-name",children:t.name})]})};function S(){return(S=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)({url:"/personalized/newsong?limit=12",method:"GET"});case 2:if((t=e.sent)&&t.result){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",t.result);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){var e=Object(j.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(j.useEffect)((function(){(function(){return S.apply(this,arguments)})().then(r)}),[]),{newSongs:n}}function M(){return(M=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)({url:"/personalized/privatecontent",method:"GET"});case 2:if((t=e.sent)&&t.result){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",t.result);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){var e=Object(j.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(j.useEffect)((function(){(function(){return M.apply(this,arguments)})().then(r)}),[]),{personalized:n}}var U=n(56);function C(){return(C=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)({url:"/recommend/resource",method:"GET",params:{cookie:U.a}});case 2:if((t=e.sent)&&t.recommend){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",t.recommend);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){var e=Object(j.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(j.useEffect)((function(){(function(){return C.apply(this,arguments)})().then(r)}),[]),{recommendMusic:n}}t.default=function(){var e=I().recommendMusic,t=T().personalized,n=E().newSongs;return"\u4e2a\u6027\u63a8\u8350"!==((0,Object(u.a)().get)("tab")||"\u4e2a\u6027\u63a8\u8350")?Object(c.jsxs)("div",{className:"home",children:[Object(c.jsx)(w,{}),Object(c.jsx)("div",{className:"not-implement",children:"\u6ca1\u610f\u601d\uff0c\u4e0d\u6253\u7b97\u5b9e\u73b0"})]}):Object(c.jsxs)("div",{className:"home",children:[Object(c.jsx)(w,{}),Object(c.jsx)(x,{}),e&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N,{title:"\u63a8\u8350\u6b4c\u5355"}),Object(c.jsx)("div",{className:"home-recommend_playlist home-r_pl",children:e.slice(0,8).map((function(e){return Object(c.jsx)(i,{playlist:e},e.id)}))})]}),t&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N,{title:"\u72ec\u5bb6\u653e\u9001"}),Object(c.jsx)("div",{className:"home-personalized",children:t.map((function(e){return Object(c.jsx)(z,{item:e},e.id)}))})]}),n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N,{title:"\u6700\u65b0\u97f3\u4e50"}),Object(c.jsx)("div",{className:"home-new_songs",children:n.map((function(e){return Object(c.jsx)(k,{song:e},e.id)}))})]})]})}}}]);
//# sourceMappingURL=4.2550c0eb.chunk.js.map