(this["webpackJsonpnetease-web"]=this["webpackJsonpnetease-web"]||[]).push([[7],{270:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(10),n=a(0);function c(){var e=Object(r.h)().search;return Object(n.useMemo)((function(){var t=new URLSearchParams(e);return{get:function(e){return t.get(e.toString())}}}),[e])}},272:function(e,t,a){},273:function(e,t,a){"use strict";a(272);var r=a(53);var n=a(1);t.a=function(e){var t,a,c=e.page,s=e.setPage,i=e.totalPage,u=(t=i,a=c,(t=Math.ceil(t))<11?Array.from({length:t},(function(e,t){return t+1})):a<=8?[1,2,3,4,5,6,7,8,9,"...",t]:a>=t-8?[1,"...",t-9,t-8,t-7,t-6,t-5,t-4,t-3,t-2,t-1,t]:[1,"..."].concat(Object(r.a)(Array.from({length:7},(function(e,t){return a-3+t}))),["...",t]));return i<2?null:Object(n.jsxs)("div",{className:"c-pager",children:[Object(n.jsx)("div",{className:"c-pager-prev c-pager-item ".concat(1===c?"disabled":""),onClick:function(){return s(c-1)},children:"<"}),u.map((function(e,t){return Object(n.jsx)("div",{className:"c-pager-item ".concat(e===c?"active":""),onClick:function(){return"..."!==e&&s(e)},children:e},t)})),Object(n.jsx)("div",{className:"c-pager-next c-pager-item ".concat(c===Math.ceil(i)?"disabled":""),onClick:function(){return s(c+1)},children:">"})]})}},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var r=a(7),n=a(60),c=a(6),s=(a(304),a(0)),i=a(10),u=a(273),o=(a(305),a(25)),l=a(1);function b(e){var t=e.coverImgUrl,a=e.creator,r=e.id,n=e.trackCount,c=e.name,s=Object(i.g)();return Object(l.jsxs)("div",{className:"play_list",onClick:function(){return s.push("/album-detail?id=".concat(r))},children:[Object(l.jsx)(o.a,{src:t,alt:"\u5c01\u9762",className:"play_list-cover"}),Object(l.jsx)("div",{className:"play_list-name ellipsis",children:c}),Object(l.jsxs)("div",{className:"play_list-count ellipsis",children:[n,"\u9996"]}),Object(l.jsxs)("div",{className:"play_list-creator ellipsis",children:[Object(l.jsx)("span",{className:"play_list-creator-by",children:"by"}),a.nickname]})]})}var j=a(98),p=(a(306),a.p+"static/media/man.773f18c0.svg"),f=a.p+"static/media/woman.9cc27295.svg";function d(e){var t=e.avatarUrl,a=e.gender,r=e.nickname,n=e.signature,c=e.userId,s=e.avatarDetail,u=e.description,b=Object(i.g)();return Object(l.jsxs)("div",{className:"user_item",onClick:function(){return b.push("/user-detail?uid=".concat(c))},children:[Object(l.jsxs)("div",{className:"user_item-avatar",children:[Object(l.jsx)(o.a,{src:t,alt:"avatar",className:"user_item-avatar-img"}),s&&Object(l.jsx)("div",{className:"user_item-avatar-identify_icon",style:{backgroundImage:"url(".concat(s.identityIconUrl,")")}})]}),Object(l.jsx)("div",{className:"user_item-name",children:r}),a&&Object(l.jsx)("div",{className:"user_item-gender"+(1===a?" man":" woman"),children:Object(l.jsx)(o.a,{src:1===a?p:f,alt:1===a?"\u7537":"\u5973",className:"user_item-gender-icon",loadingMask:!1})}),Object(l.jsx)("div",{className:"spacer"}),Object(l.jsx)("div",{className:"user_item-signature ellipsis",children:s?u||"\u7f51\u6613\u97f3\u4e50\u4eba":n})]})}var m,O=a(270),v=a(90),g=a(3),h=a.n(g),x=a(5),y=a(13);function k(e){return w.apply(this,arguments)}function w(){return(w=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)({url:"/cloudsearch",method:"GET",params:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e["\u5355\u66f2"]=1]="\u5355\u66f2",e[e["\u6b4c\u5355"]=1e3]="\u6b4c\u5355",e[e["\u7528\u6237"]=1002]="\u7528\u6237"}(m||(m={}));var N=["\u5355\u66f2","\u6b4c\u5355","\u7528\u6237"];t.default=function(){var e,t=Object(O.a)(),a=t.get("keywords"),o=t.get("tab")||"\u5355\u66f2",p=Object(s.useState)(1),f=Object(c.a)(p,2),g=f[0],y=f[1],w=Object(i.g)(),_={tab:o,keywords:a,page:g},C=function(e){var t=e.tab,a=e.keywords,r=e.page,n=Object(s.useState)({songCount:0,songs:[]}),i=Object(c.a)(n,2),u=i[0],o=i[1],l=function(){var e=Object(x.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\u5355\u66f2"===t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k({keywords:a,limit:100,offset:100*(r-1),type:m[t]});case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:o(n.result);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){l()}),[t,a,r]),{songs:u.songs,songCount:u.songCount}}(_),E=C.songCount,I=C.songs,S=function(e){var t=e.tab,a=e.keywords,n=e.page,i=Object(s.useState)({playlistCount:0,playlists:[]}),u=Object(c.a)(i,2),o=u[0],l=u[1],b=function(){var e=Object(x.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\u6b4c\u5355"===t){e.next=2;break}return e.abrupt("return");case 2:return console.log({keywords:a}),e.next=5,k({keywords:a,limit:20,offset:20*(n-1),type:m[t]});case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return");case 8:l(r.result);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){b()}),[t,a,n]),Object(r.a)({},o)}(_),M=S.playlistCount,P=S.playlists,U=function(e){var t=e.tab,a=e.keywords,n=e.page,i=Object(s.useState)({userprofileCount:0,userprofiles:[]}),u=Object(c.a)(i,2),o=u[0],l=u[1],b=function(){var e=Object(x.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\u7528\u6237"===t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k({keywords:a,limit:20,offset:20*(n-1),type:m[t]});case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return");case 7:l(r.result);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){b()}),[t,a,n]),Object(r.a)({},o)}(_),A=U.userprofileCount,J=U.userprofiles,R=Object(s.useRef)(null),D=(e={},Object(n.a)(e,N[0],E),Object(n.a)(e,N[1],M),Object(n.a)(e,N[2],A),e);return Object(l.jsxs)("div",{className:"search_page",children:[Object(l.jsxs)("div",{className:"search_page-count",ref:R,children:["\u627e\u5230",D[o],"\u4e2a",o]}),Object(l.jsx)("div",{className:"search_page-tabs",children:N.map((function(e){return Object(l.jsx)("div",{className:"search_page-tabs-tab"+(e===o?" selected":""),onClick:function(){return w.replace("/search-page?tab=".concat(e,"&keywords=").concat(a))},children:e},e)}))}),"\u5355\u66f2"===o&&Object(l.jsx)(j.a,{tableHeads:["\u97f3\u4e50\u6807\u9898","\u6b4c\u624b","\u4e13\u8f91","\u65f6\u957f"],highlightWord:a,tableContents:Object(v.a)(I),indexed:!0}),"\u6b4c\u5355"===o&&P.map((function(e){return Object(s.createElement)(b,Object(r.a)(Object(r.a)({},e),{},{key:e.id}))})),"\u7528\u6237"===o&&J.map((function(e){return Object(s.createElement)(d,Object(r.a)(Object(r.a)({},e),{},{key:e.userId}))})),Object(l.jsx)(u.a,{page:g,setPage:function(e){R&&R.current&&R.current.scrollIntoView(),y(e)},totalPage:Math.ceil(D[o]/100)})]})}}}]);
//# sourceMappingURL=7.b7b18b57.chunk.js.map