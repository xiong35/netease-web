{"version":3,"sources":["hooks/useQuery.ts","utils/numFormat.ts","pages/Home/components/PlayIcon/index.tsx","components/AlbumCard/index.tsx","network/home/getBanners.ts","pages/Home/components/Carousel/hooks/useBanners.ts","pages/Home/components/Carousel/img/left.svg","pages/Home/components/Carousel/index.tsx","pages/Home/components/HomeTabs/hooks/useTabs.ts","pages/Home/components/HomeTabs/index.tsx","pages/Home/components/HomeTitle/index.tsx","pages/Home/components/NewSongItem/index.tsx","pages/Home/components/PersonalizedCard/index.tsx","network/home/getNewSong.ts","pages/Home/hooks/useNewSongs.ts","network/home/getPersonalized.ts","pages/Home/hooks/usePersonalized.ts","network/home/getRecommendedPlayList.ts","pages/Home/hooks/useRecommendedMusic.ts","pages/Home/index.tsx"],"names":["useQuery","search","useLocation","useMemo","URLSearch","URLSearchParams","get","key","toString","numFormat","num","parseInt","isNaN","Math","round","PlayIcon","className","viewBox","version","xmlns","width","height","d","fill","AlbumCard","props","playlist","history","useHistory","onClick","push","id","Img","src","picUrl","alt","name","playcount","a","_request","url","method","res","banners","SWITCH_INTERVAL","useBanners","useState","setBanners","timer","useRef","switchBanners","direction","resetTimer","length","clearInterval","current","window","setInterval","newBanners","map","b","index","position","useEffect","getBannersReq","then","_banners","banner","Carousel","imgLeftArrow","imageUrl","typeTitle","style","transform","tabs","HomeTabs","curTab","tab","replace","HomeTitle","title","opacity","NewSongItem","song","PlayStore","setMusicsWithoutPlaylist","al","album","blurPicUrl","alia","alias","ar","artists","dt","Date","now","publishTime","join","artist","PersonalizedCard","item","result","useNewSongs","newSongs","setNewSongs","getNewSongReq","usePersonalized","personalized","setPersonalized","getPersonalizedReq","recommend","useRecommendedMusic","recommendMusic","setRecommendMusic","getRecommendedPlayListReq","Home","slice"],"mappings":"kHAAA,qDAGO,SAASA,IACd,IAAQC,EAAWC,cAAXD,OAER,OAAOE,mBAAQ,WACb,IAAMC,EAAY,IAAIC,gBAAgBJ,GACtC,MAAO,CACLK,IADK,SACkBC,GACrB,OAAOH,EAAUE,IAAIC,EAAIC,gBAG5B,CAACP,M,iCCRC,SAASQ,EAAUC,GAExB,MADmB,kBAARA,IAAkBA,EAAMC,SAASD,IACxCE,MAAMF,GAAa,GACnBA,EAAM,IAEDA,EAAIF,WACFE,EAAM,KAEPG,KAAKC,MAAMJ,EAAM,KAAO,IAAIF,WAAa,UAGzCK,KAAKC,MAAMJ,EAAM,KAAO,IAAIF,WAAa,SAhBrD,mC,kQC6BeO,MAxBf,WAGE,OACE,qBAAKC,UAAU,cAAf,SACE,qBACEA,UAAU,kBACVC,QAAQ,gBACRC,QAAQ,MACRC,MAAM,6BACN,OAAK,OACLC,MAAM,MACNC,OAAO,MAPT,SASE,sBACEC,EAAE,uPACFC,KAAK,GACL,OAAK,c,iBCkBAC,MA3Bf,SAAmBC,GACjB,IAAQC,EAAaD,EAAbC,SAEFC,EAAUC,cAEhB,OACE,sBACEZ,UAAU,aACVa,QAAS,kBAAMF,EAAQG,KAAR,0BAAgCJ,EAASK,MAF1D,UAIE,sBAAKf,UAAU,mBAAf,UACE,cAACgB,EAAA,EAAD,CACEC,IAAKP,EAASQ,OACdC,IAAKT,EAASU,KACdpB,UAAU,yBAEZ,sBAAKA,UAAU,8BAAf,oBACKP,YAAUiB,EAASW,cAExB,cAAC,EAAD,OAGF,qBAAKrB,UAAU,kBAAf,SAAkCU,EAASU,W,kHC7B1C,4BAAAE,EAAA,sEACaC,YAAgC,CAChDC,IAAK,UACLC,OAAQ,QAHL,WACCC,EADD,SAMQA,EAAIC,QANZ,yCAM4B,MAN5B,gCAQED,EAAIC,SARN,4C,sBCGP,IAAMC,EAAkB,IAEjB,SAASC,IAEd,MAA8BC,mBAE5B,IAFF,mBAAOH,EAAP,KAAgBI,EAAhB,KAIMC,EAAQC,iBAAO,GA0BrB,SAASC,EAAcC,GAAuC,IAApBC,IAAmB,yDAC3D,GAAuB,IAAnBT,EAAQU,OAUZ,GARID,IACFE,cAAcN,EAAMO,SACpBP,EAAMO,QAAUC,OAAOC,aACrB,kBAAMP,EAAc,QAAQ,KAC5BN,IAIc,SAAdO,EAAsB,CACxB,IAAMO,EAAaf,EAAQgB,KAAI,SAACC,EAAGC,GAAJ,mBAAC,eAC3BD,GAD0B,IAE7BE,SAAUnB,GAASkB,EAAQ,GAAK,GAAGC,cAErCf,EAAWW,OACN,CACL,IAAMA,EAAaf,EAAQgB,KAAI,SAACC,EAAGC,GAAJ,mBAAC,eAC3BD,GAD0B,IAE7BE,SAAUnB,GAASkB,EAAQ,GAAK,GAAGC,cAErCf,EAAWW,IAGf,OAjDAK,qBAAU,WACR,KAAIpB,EAAQU,OAAS,GAQrB,OANAC,cAAcN,EAAMO,SACpBP,EAAMO,QAAUC,OAAOC,aACrB,kBAAMP,EAAc,QAAQ,KAC5BN,GAGK,kBAAMU,cAAcN,EAAMO,YAChC,CAACZ,IAEJoB,qBAAU,YDzBL,WAAP,gCC0BIC,GAAgBC,MAAK,SAACC,IACfA,GAAYA,EAASb,OAAS,GACnCN,EAAW,CACT,CAAEoB,OAAQD,EAAS,GAAIJ,SAAU,QACjC,CAAEK,OAAQD,EAAS,GAAIJ,SAAU,SACjC,CAAEK,OAAQD,EAAS,GAAIJ,SAAU,SACjC,CAAEK,OAAQD,EAAS,GAAIJ,SAAU,eAGpC,IA2BI,CAAEnB,UAASO,iBCpEL,UAA0B,iCCoD1BkB,MA3Cf,WAGE,MAAmCvB,IAA3BF,EAAR,EAAQA,QAASO,EAAjB,EAAiBA,cAEjB,OACE,sBAAKlC,UAAU,WAAf,UACE,qBACEA,UAAU,uBACVa,QAAS,kBAAMqB,EAAc,SAF/B,SAIE,qBAAKjB,IAAKoC,EAAcrD,UAAU,0BAGnC2B,EAAQgB,KAAI,SAACC,GACZ,OACE,sBACE5C,UAAW,iBAAmB4C,EAAEE,SADlC,UAIE,qBACE3B,IAAI,qBACJnB,UAAU,oBACViB,IAAK2B,EAAEO,OAAOG,WAEfV,EAAEO,OAAOI,WACR,qBAAKvD,UAAU,uBAAf,SAAuC4C,EAAEO,OAAOI,cAR7CX,EAAEO,OAAOG,aAcpB,qBACEtD,UAAU,uBACVa,QAAS,kBAAMqB,EAAc,SAC7BsB,MAAO,CAAEC,UAAW,kBAHtB,SAKE,qBAAKxC,IAAKoC,EAAcrD,UAAU,8BCnC7B0D,G,OAAiB,CAC5B,2BACA,2BACA,eACA,qBACA,eACA,6BCcaC,MAtBf,WAGE,MDYO,CAAEC,QAFMtE,EADCN,cAARM,KACW,QAAU,2BAEZoE,QCZTE,EAAR,EAAQA,OAAQF,EAAhB,EAAgBA,KAEV/C,EAAUC,cAEhB,OACE,qBAAKZ,UAAU,YAAf,SACG0D,EAAKf,KAAI,SAACkB,GAAD,OACR,qBAEE7D,UAAS,yBAAoB4D,IAAWC,EAAM,SAAW,IACzDhD,QAAS,kBAAMF,EAAQmD,QAAR,oBAA6BD,KAH9C,SAKGA,GAJIA,S,OCiBAE,MA/Bf,SAAmBtD,GACjB,IAAQuD,EAAUvD,EAAVuD,MAER,OACE,sBAAKhE,UAAU,aAAf,UACE,sBAAMA,UAAU,qBAAhB,SAAsCgE,IACtC,sBACEhE,UAAU,kBACVC,QAAQ,gBACRC,QAAQ,MACRC,MAAM,6BACN,OAAK,OACLC,MAAM,MACNC,OAAO,MAPT,UASE,sBACEC,EAAE,oBACFC,KAAK,eACL0D,QAAQ,MACR,OAAK,SAEP,sBACE3D,EAAE,oQACFC,KAAK,eACL,OAAK,gB,iBCiBA2D,MArCf,SAAqBzD,GACnB,IAAQ0D,EAAS1D,EAAM0D,KAAfA,KAER,OACE,sBACEnE,UAAU,sBACVa,QAAS,kBACPuD,IAAUC,yBAAyB,CAAC,2BAE7BF,GAF4B,IAG/BG,GAAG,2BAAMH,EAAKI,OAAZ,IAAmBrD,OAAQiD,EAAKI,MAAMC,aACxCC,KAAMN,EAAKO,MACXC,GAAIR,EAAKS,QACTC,GAAIC,KAAKC,MACTC,YAAaF,KAAKC,WAV1B,UAeE,cAAC/D,EAAA,EAAD,CACEC,IAAKkD,EAAKI,MAAMC,WAChBrD,IAAKgD,EAAKI,MAAMnD,KAChBpB,UAAU,gBAEZ,sBAAKA,UAAU,aAAf,UACE,sBAAKA,UAAU,2BAAf,UACGmE,EAAK/C,KACN,sBAAMpB,UAAU,wBAAhB,SAAyCmE,EAAKO,MAAMO,KAAK,UAE3D,qBAAKjF,UAAU,kCAAf,SACGmE,EAAKS,QAAQjC,KAAI,SAACuC,GAAD,OAAYA,EAAO9D,QAAM6D,KAAK,c,OCZ3CE,MAlBf,SAA0B1E,GACxB,IAAQ2E,EAAS3E,EAAT2E,KAER,OACE,sBAAKpF,UAAU,oBAAf,UACE,sBAAKA,UAAU,0BAAf,UACE,cAACgB,EAAA,EAAD,CACEC,IAAKmE,EAAKlE,OACVC,IAAKiE,EAAKhE,KACVpB,UAAU,gCAEZ,cAAC,EAAD,OAEF,qBAAKA,UAAU,yBAAf,SAAyCoF,EAAKhE,W,4CCjB7C,4BAAAE,EAAA,sEACaC,YAAgC,CAChDC,IAAK,iCACLC,OAAQ,QAHL,WACCC,EADD,SAMQA,EAAI2D,OANZ,yCAM2B,MAN3B,gCAQE3D,EAAI2D,QARN,4C,sBCDA,SAASC,IACd,MAAgCxD,mBAA2B,MAA3D,mBAAOyD,EAAP,KAAiBC,EAAjB,KAMA,OAJAzC,qBAAU,YDFL,WAAP,gCCGI0C,GAAgBxC,KAAKuC,KACpB,IAEI,CAAED,Y,4CCLJ,4BAAAjE,EAAA,sEACaC,YAAqC,CACrDC,IAAK,+BACLC,OAAQ,QAHL,WACCC,EADD,SAMQA,EAAI2D,OANZ,yCAM2B,MAN3B,gCAQE3D,EAAI2D,QARN,4C,sBCFA,SAASK,IACd,MAAwC5D,mBAAgC,MAAxE,mBAAO6D,EAAP,KAAqBC,EAArB,KAMA,OAJA7C,qBAAU,YDDL,WAAP,gCCEI8C,GAAqB5C,KAAK2C,KACzB,IAEI,CAAED,gB,4CCNJ,4BAAArE,EAAA,sEACaC,YAA+C,CAC/DC,IAAK,sBACLC,OAAQ,QAHL,WACCC,EADD,SAMQA,EAAIoE,UANZ,yCAM8B,MAN9B,gCAQEpE,EAAIoE,WARN,4C,sBCDA,SAASC,IACd,MAA4CjE,mBAE1C,MAFF,mBAAOkE,EAAP,KAAuBC,EAAvB,KAQA,OAJAlD,qBAAU,YDJL,WAAP,gCCKImD,GAA4BjD,KAAKgD,KAChC,IAEI,CAAED,kBCuDIG,UAvDf,WACE,IAAQH,EAAmBD,IAAnBC,eACAL,EAAiBD,IAAjBC,aACAJ,EAAaD,IAAbC,SAKR,MAAe,+BAFAjG,EADCN,cAARM,KACW,QAAU,4BAIzB,sBAAKU,UAAU,OAAf,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,gBAAf,uEAKJ,sBAAKA,UAAU,OAAf,UACE,cAAC,EAAD,IAEA,cAAC,EAAD,IACCgG,GACC,qCACE,cAAC,EAAD,CAAWhC,MAAM,6BACjB,qBAAKhE,UAAU,oCAAf,SACGgG,EAAeI,MAAM,EAAG,GAAGzD,KAAI,SAACjC,GAAD,OAC9B,cAAC,EAAD,CAAWA,SAAUA,GAAeA,EAASK,YAKpD4E,GACC,qCACE,cAAC,EAAD,CAAW3B,MAAM,6BACjB,qBAAKhE,UAAU,oBAAf,SACG2F,EAAahD,KAAI,SAACyC,GAAD,OAChB,cAAC,EAAD,CAAkBA,KAAMA,GAAWA,EAAKrE,YAK/CwE,GACC,qCACE,cAAC,EAAD,CAAWvB,MAAM,6BACjB,qBAAKhE,UAAU,iBAAf,SACGuF,EAAS5C,KAAI,SAACwB,GAAD,OACZ,cAAC,EAAD,CAA2BA,KAAMA,GAAfA,EAAKpD","file":"static/js/4.00c626b9.chunk.js","sourcesContent":["import { useLocation } from \"react-router-dom\";\r\nimport { useMemo } from \"react\";\r\n\r\nexport function useQuery<T extends Record<string, string>>() {\r\n  const { search } = useLocation();\r\n\r\n  return useMemo(() => {\r\n    const URLSearch = new URLSearchParams(search);\r\n    return {\r\n      get<K extends keyof T>(key: K) {\r\n        return URLSearch.get(key.toString()) as T[K];\r\n      },\r\n    };\r\n  }, [search]);\r\n}\r\n","/**\r\n * 将数字转化成简短而模糊的表示\\\r\n * 如 123456 => 12万\r\n * @param num\r\n */\r\nexport function numFormat(num: number | string): string {\r\n  if (typeof num === \"string\") num = parseInt(num);\r\n  if (isNaN(num)) return \"\";\r\n  if (num < 1e4) {\r\n    // 9999 以内直接返回\r\n    return num.toString();\r\n  } else if (num < 1e8) {\r\n    // 9, 999, 999 - 9999, 显示 `xx.x万`\r\n    return (Math.round(num / 1e3) / 10).toString() + \"万\";\r\n  } else {\r\n    // xx.x亿\r\n    return (Math.round(num / 1e7) / 10).toString() + \"亿\";\r\n  }\r\n}\r\n","import \"./index.scss\";\r\n\r\n// type PlayIconProps = {\r\n// };\r\n\r\nfunction PlayIcon(/* props: PlayIconProps */) {\r\n  // const {} = props;\r\n\r\n  return (\r\n    <div className=\"c-play_icon\">\r\n      <svg\r\n        className=\"c-play_icon-svg\"\r\n        viewBox=\"0 0 1024 1024\"\r\n        version=\"1.1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        p-id=\"7367\"\r\n        width=\"200\"\r\n        height=\"200\"\r\n      >\r\n        <path\r\n          d=\"M912.724884 429.355681L208.797545 13.198638C151.603449-20.597874 64.01249 12.198741 64.01249 95.790112V927.904219c0 74.992259 81.391599 120.187594 144.785055 82.591475l703.927339-415.957064c62.793518-36.996181 62.993498-128.186768 0-165.182949z\"\r\n          fill=\"\"\r\n          p-id=\"7368\"\r\n        ></path>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PlayIcon;\r\n","import \"./index.scss\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { RecommendedPlaylist } from \"../../models/Music\";\r\nimport PlayIcon from \"../../pages/Home/components/PlayIcon\";\r\nimport { numFormat } from \"../../utils/numFormat\";\r\nimport Img from \"../Img\";\r\n\r\ntype AlbumCardProps = {\r\n  playlist: RecommendedPlaylist;\r\n};\r\n\r\nfunction AlbumCard(props: AlbumCardProps) {\r\n  const { playlist } = props;\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div\r\n      className=\"album_card\"\r\n      onClick={() => history.push(`album-detail?id=${playlist.id}`)}\r\n    >\r\n      <div className=\"album_card-cover\">\r\n        <Img\r\n          src={playlist.picUrl}\r\n          alt={playlist.name}\r\n          className=\"album_card-cover-img\"\r\n        />\r\n        <div className=\"album_card-cover-play_count\">\r\n          ▶ {numFormat(playlist.playcount)}\r\n        </div>\r\n        <PlayIcon></PlayIcon>\r\n      </div>\r\n\r\n      <div className=\"album_card-name\">{playlist.name}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AlbumCard;\r\n","import _request from \"../_request\";\r\nimport { Banner } from \"../../models/Home\";\r\n\r\n/**\r\n * 获得首页轮播图\r\n */\r\nexport async function getBannersReq() {\r\n  const res = await _request<{ banners: Banner[] }>({\r\n    url: \"/banner\",\r\n    method: \"GET\",\r\n  });\r\n\r\n  if (!res || !res.banners) return null;\r\n\r\n  return res.banners;\r\n}\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Banner } from \"../../../../../models/Home\";\r\nimport { getBannersReq } from \"../../../../../network/home/getBanners\";\r\n\r\ntype Switch = \"prev\" | \"next\";\r\n\r\ntype Position = \"left\" | \"front\" | \"right\" | \"back\";\r\n\r\nconst SWITCH_INTERVAL = 3000;\r\n\r\nexport function useBanners() {\r\n  /** [\"left\", \"front\", \"right\", \"back\"] */\r\n  const [banners, setBanners] = useState<\r\n    { banner: Banner; position: Position }[]\r\n  >([]);\r\n\r\n  const timer = useRef(0);\r\n\r\n  useEffect(() => {\r\n    if (banners.length < 4) return;\r\n\r\n    clearInterval(timer.current);\r\n    timer.current = window.setInterval(\r\n      () => switchBanners(\"next\", false),\r\n      SWITCH_INTERVAL\r\n    );\r\n\r\n    return () => clearInterval(timer.current);\r\n  }, [banners]);\r\n\r\n  useEffect(() => {\r\n    getBannersReq().then((_banners) => {\r\n      if (!_banners || _banners.length < 4) return;\r\n      setBanners([\r\n        { banner: _banners[0], position: \"left\" },\r\n        { banner: _banners[1], position: \"front\" },\r\n        { banner: _banners[2], position: \"right\" },\r\n        { banner: _banners[3], position: \"back\" },\r\n      ]);\r\n    });\r\n  }, []);\r\n\r\n  function switchBanners(direction: Switch, resetTimer = true) {\r\n    if (banners.length === 0) return;\r\n\r\n    if (resetTimer) {\r\n      clearInterval(timer.current);\r\n      timer.current = window.setInterval(\r\n        () => switchBanners(\"next\", false),\r\n        SWITCH_INTERVAL\r\n      );\r\n    }\r\n\r\n    if (direction === \"next\") {\r\n      const newBanners = banners.map((b, index) => ({\r\n        ...b,\r\n        position: banners[(index + 3) % 4].position,\r\n      }));\r\n      setBanners(newBanners);\r\n    } else {\r\n      const newBanners = banners.map((b, index) => ({\r\n        ...b,\r\n        position: banners[(index + 1) % 4].position,\r\n      }));\r\n      setBanners(newBanners);\r\n    }\r\n  }\r\n  return { banners, switchBanners };\r\n}\r\n","export default __webpack_public_path__ + \"static/media/left.3a67d791.svg\";","import \"./index.scss\";\r\n\r\nimport Img from \"../../../../components/Img\";\r\nimport { useBanners } from \"./hooks/useBanners\";\r\nimport imgLeftArrow from \"./img/left.svg\";\r\n\r\n// type CarouselProps = {\r\n// };\r\n\r\nfunction Carousel(/* props: CarouselProps */) {\r\n  // const {} = props;\r\n\r\n  const { banners, switchBanners } = useBanners();\r\n\r\n  return (\r\n    <div className=\"carousel\">\r\n      <div\r\n        className=\"carousel-toggle prev\"\r\n        onClick={() => switchBanners(\"prev\")}\r\n      >\r\n        <img src={imgLeftArrow} className=\"carousel-toggle-img\" />\r\n      </div>\r\n\r\n      {banners.map((b) => {\r\n        return (\r\n          <div\r\n            className={\"carousel-item \" + b.position}\r\n            key={b.banner.imageUrl}\r\n          >\r\n            <img\r\n              alt=\"轮播图\"\r\n              className=\"carousel-item-img\"\r\n              src={b.banner.imageUrl}\r\n            />\r\n            {b.banner.typeTitle && (\r\n              <div className=\"carousel-item-badage\">{b.banner.typeTitle}</div>\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      <div\r\n        className=\"carousel-toggle next\"\r\n        onClick={() => switchBanners(\"next\")}\r\n        style={{ transform: \"rotate(180deg)\" }}\r\n      >\r\n        <img src={imgLeftArrow} className=\"carousel-toggle-img\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Carousel;\r\n","import { useQuery } from \"../../../../../hooks/useQuery\";\r\n\r\nexport type HomeTabs = [\r\n  \"个性推荐\",\r\n  \"专属订制\",\r\n  \"歌单\",\r\n  \"排行榜\",\r\n  \"歌手\",\r\n  \"最新音乐\"\r\n];\r\n\r\nexport const tabs: HomeTabs = [\r\n  \"个性推荐\",\r\n  \"专属订制\",\r\n  \"歌单\",\r\n  \"排行榜\",\r\n  \"歌手\",\r\n  \"最新音乐\",\r\n];\r\n\r\nexport function useTabs() {\r\n  const { get } = useQuery<{ tab: HomeTabs[number] }>();\r\n  const curTab = get(\"tab\") || \"个性推荐\";\r\n\r\n  return { curTab, tabs };\r\n}\r\n","import \"./index.scss\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { useTabs } from \"./hooks/useTabs\";\r\n\r\n// type HomeTabsProps = {\r\n// };\r\n\r\nfunction HomeTabs(/* props: HomeTabsProps */) {\r\n  // const {} = props;\r\n\r\n  const { curTab, tabs } = useTabs();\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className=\"home_tabs\">\r\n      {tabs.map((tab) => (\r\n        <div\r\n          key={tab}\r\n          className={`home_tabs-item ${curTab === tab ? \"active\" : \"\"}`}\r\n          onClick={() => history.replace(`/home?tab=${tab}`)}\r\n        >\r\n          {tab}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomeTabs;\r\n","import \"./index.scss\";\r\n\r\ntype HomeTitleProps = {\r\n  title: string;\r\n};\r\n\r\nfunction HomeTitle(props: HomeTitleProps) {\r\n  const { title } = props;\r\n\r\n  return (\r\n    <div className=\"home_title\">\r\n      <span className=\"home_title-content\">{title}</span>\r\n      <svg\r\n        className=\"home_title-icon\"\r\n        viewBox=\"0 0 1024 1024\"\r\n        version=\"1.1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        p-id=\"5210\"\r\n        width=\"200\"\r\n        height=\"200\"\r\n      >\r\n        <path\r\n          d=\"M0 0h1024v1024H0z\"\r\n          fill=\"var(--on-bg)\"\r\n          opacity=\".01\"\r\n          p-id=\"5211\"\r\n        ></path>\r\n        <path\r\n          d=\"M615.8848 512l-318.976-319.9488c-20.4288-20.48-20.4288-53.76 0-74.24 20.48-20.5312 53.7088-20.5312 74.1376 0L727.04 474.88c20.48 20.48 20.48 53.76 0 74.24L371.0464 906.24c-20.48 20.5312-53.6064 20.5312-74.0864 0-20.48-20.48-20.48-53.76 0-74.24L615.8848 512z\"\r\n          fill=\"var(--on-bg)\"\r\n          p-id=\"5212\"\r\n        ></path>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomeTitle;\r\n","import \"./index.scss\";\r\n\r\nimport Img from \"../../../../components/Img\";\r\nimport { PlayStore } from \"../../../../mobx/play\";\r\nimport { NewSong } from \"../../../../models/Home\";\r\n\r\ntype NewSongItemProps = {\r\n  song: NewSong;\r\n};\r\n\r\nfunction NewSongItem(props: NewSongItemProps) {\r\n  const { song } = props.song;\r\n\r\n  return (\r\n    <div\r\n      className=\"new_song_item n_s_i\"\r\n      onClick={() =>\r\n        PlayStore.setMusicsWithoutPlaylist([\r\n          {\r\n            ...song,\r\n            al: { ...song.album, picUrl: song.album.blurPicUrl },\r\n            alia: song.alias,\r\n            ar: song.artists,\r\n            dt: Date.now(),\r\n            publishTime: Date.now(),\r\n          },\r\n        ])\r\n      }\r\n    >\r\n      <Img\r\n        src={song.album.blurPicUrl}\r\n        alt={song.album.name}\r\n        className=\"n_s_i-cover\"\r\n      ></Img>\r\n      <div className=\"n_s_i-info\">\r\n        <div className=\"n_s_i-info-name ellipsis\">\r\n          {song.name}\r\n          <span className=\"n_s_i-info-name-alias\">{song.alias.join(\"/\")}</span>\r\n        </div>\r\n        <div className=\"n_s_i-info-artist_name ellipsis\">\r\n          {song.artists.map((artist) => artist.name).join(\"/\")}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewSongItem;\r\n","import \"./index.scss\";\r\n\r\nimport Img from \"../../../../components/Img\";\r\nimport { Personalized } from \"../../../../models/Home\";\r\nimport PlayIcon from \"../PlayIcon\";\r\n\r\ntype PersonalizedCardProps = {\r\n  item: Personalized;\r\n};\r\n\r\nfunction PersonalizedCard(props: PersonalizedCardProps) {\r\n  const { item } = props;\r\n\r\n  return (\r\n    <div className=\"personalized_card\">\r\n      <div className=\"personalized_card-cover\">\r\n        <Img\r\n          src={item.picUrl}\r\n          alt={item.name}\r\n          className=\"personalized_card-cover-img\"\r\n        />\r\n        <PlayIcon></PlayIcon>\r\n      </div>\r\n      <div className=\"personalized_card-name\">{item.name}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PersonalizedCard;\r\n","import { NewSong } from \"../../models/Home\";\r\nimport _request from \"../_request\";\r\n\r\n/**\r\n * 获得主页推荐的最新单曲 https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=%e6%8e%a8%e8%8d%90%e6%96%b0%e9%9f%b3%e4%b9%90\r\n */\r\nexport async function getNewSongReq() {\r\n  const res = await _request<{ result: NewSong[] }>({\r\n    url: \"/personalized/newsong?limit=12\",\r\n    method: \"GET\",\r\n  });\r\n\r\n  if (!res || !res.result) return null;\r\n\r\n  return res.result;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\n\r\nimport { NewSong } from \"../../../models/Home\";\r\nimport { getNewSongReq } from \"../../../network/home/getNewSong\";\r\n\r\nexport function useNewSongs() {\r\n  const [newSongs, setNewSongs] = useState<NewSong[] | null>(null);\r\n\r\n  useEffect(() => {\r\n    getNewSongReq().then(setNewSongs);\r\n  }, []);\r\n\r\n  return { newSongs };\r\n}\r\n","import { Personalized } from \"../../models/Home\";\r\nimport _request from \"../_request\";\r\n\r\n/**\r\n * 获得首页独家放送 https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=%e7%8b%ac%e5%ae%b6%e6%94%be%e9%80%81%e5%85%a5%e5%8f%a3%e5%88%97%e8%a1%a8\r\n * @returns\r\n */\r\nexport async function getPersonalizedReq() {\r\n  const res = await _request<{ result: Personalized[] }>({\r\n    url: \"/personalized/privatecontent\",\r\n    method: \"GET\",\r\n  });\r\n\r\n  if (!res || !res.result) return null;\r\n\r\n  return res.result;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\n\r\nimport { Personalized } from \"../../../models/Home\";\r\nimport { getPersonalizedReq } from \"../../../network/home/getPersonalized\";\r\n\r\nexport function usePersonalized() {\r\n  const [personalized, setPersonalized] = useState<Personalized[] | null>(null);\r\n\r\n  useEffect(() => {\r\n    getPersonalizedReq().then(setPersonalized);\r\n  }, []);\r\n\r\n  return { personalized };\r\n}\r\n","import { RecommendedPlaylist } from \"../../models/Music\";\r\nimport _request from \"../_request\";\r\n\r\n/**\r\n * 获得推荐的歌单(需登录)\r\n */\r\nexport async function getRecommendedPlayListReq() {\r\n  const res = await _request<{ recommend: RecommendedPlaylist[] }>({\r\n    url: \"/recommend/resource\",\r\n    method: \"GET\",\r\n  });\r\n\r\n  if (!res || !res.recommend) return null;\r\n\r\n  return res.recommend;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\n\r\nimport { RecommendedPlaylist } from \"../../../models/Music\";\r\nimport { getRecommendedPlayListReq } from \"../../../network/home/getRecommendedPlayList\";\r\n\r\nexport function useRecommendedMusic() {\r\n  const [recommendMusic, setRecommendMusic] = useState<\r\n    RecommendedPlaylist[] | null\r\n  >(null);\r\n\r\n  useEffect(() => {\r\n    getRecommendedPlayListReq().then(setRecommendMusic);\r\n  }, []);\r\n\r\n  return { recommendMusic };\r\n}\r\n","import \"./index.scss\";\r\n\r\nimport AlbumCard from \"../../components/AlbumCard\";\r\nimport { useQuery } from \"../../hooks/useQuery\";\r\nimport Carousel from \"./components/Carousel\";\r\nimport HomeTabs from \"./components/HomeTabs\";\r\nimport { HomeTabs as HomeTabsType } from \"./components/HomeTabs/hooks/useTabs\";\r\nimport HomeTitle from \"./components/HomeTitle\";\r\nimport NewSongItem from \"./components/NewSongItem\";\r\nimport PersonalizedCard from \"./components/PersonalizedCard\";\r\nimport { useNewSongs } from \"./hooks/useNewSongs\";\r\nimport { usePersonalized } from \"./hooks/usePersonalized\";\r\nimport { useRecommendedMusic } from \"./hooks/useRecommendedMusic\";\r\n\r\nfunction Home() {\r\n  const { recommendMusic } = useRecommendedMusic();\r\n  const { personalized } = usePersonalized();\r\n  const { newSongs } = useNewSongs();\r\n\r\n  const { get } = useQuery<{ tab: HomeTabsType[number] }>();\r\n  const curTab = get(\"tab\") || \"个性推荐\";\r\n\r\n  if (curTab !== \"个性推荐\") {\r\n    return (\r\n      <div className=\"home\">\r\n        <HomeTabs></HomeTabs>\r\n        <div className=\"not-implement\">没意思，不打算实现</div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"home\">\r\n      <HomeTabs></HomeTabs>\r\n\r\n      <Carousel></Carousel>\r\n      {recommendMusic && (\r\n        <>\r\n          <HomeTitle title=\"推荐歌单\"></HomeTitle>\r\n          <div className=\"home-recommend_playlist home-r_pl\">\r\n            {recommendMusic.slice(0, 8).map((playlist) => (\r\n              <AlbumCard playlist={playlist} key={playlist.id}></AlbumCard>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n      {personalized && (\r\n        <>\r\n          <HomeTitle title=\"独家放送\"></HomeTitle>\r\n          <div className=\"home-personalized\">\r\n            {personalized.map((item) => (\r\n              <PersonalizedCard item={item} key={item.id}></PersonalizedCard>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n      {newSongs && (\r\n        <>\r\n          <HomeTitle title=\"最新音乐\"></HomeTitle>\r\n          <div className=\"home-new_songs\">\r\n            {newSongs.map((song) => (\r\n              <NewSongItem key={song.id} song={song}></NewSongItem>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}